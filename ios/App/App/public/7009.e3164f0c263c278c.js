"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7009],{7009:(R,g,a)=>{a.r(g),a.d(g,{RegisterPage:()=>C});var u=a(5861),e=a(4650),d=a(6895),r=a(4006),l=a(9972),m=a(6159),p=a(3726),h=a(4670);let f=(()=>{class o{static spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return o.checkPasswords=s=>s.get("password").value===s.get("confirmPassword").value?null:{notSame:!0},o})();var _=a(4132),v=a(3651),x=a(7067);const Z=["registerRoot"];function b(o,s){1&o&&(e.TgZ(0,"ion-note",32),e._uU(1,"Obligatorio"),e.qZA())}function P(o,s){1&o&&(e.TgZ(0,"ion-note",32),e._uU(1,"Email inv\xe1lido"),e.qZA())}function T(o,s){1&o&&(e.TgZ(0,"ion-content",33),e._uU(1," La contrase\xf1a debe tener una longitud m\xednima de 6 caracteres "),e.qZA())}function y(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._uU(4,"Creaci\xf3n de Cuenta"),e.qZA()(),e.TgZ(5,"div",8)(6,"form",9)(7,"ion-item",10)(8,"ion-label",11),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"ion-input",12),e.YNc(11,b,2,0,"ion-note",13),e.qZA(),e.TgZ(12,"ion-item",10)(13,"ion-label",11),e._uU(14,"Correo Electr\xf3nico"),e.qZA(),e._UZ(15,"ion-input",14),e.YNc(16,P,2,0,"ion-note",13),e.qZA(),e.TgZ(17,"ion-item",15)(18,"ion-label",11),e._uU(19,"Contrase\xf1a"),e.qZA(),e._UZ(20,"ion-input",16),e.TgZ(21,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.togglePasswordVisibility(0))}),e._UZ(22,"ion-icon",18),e.qZA()(),e.TgZ(23,"ion-item",19)(24,"ion-label",11),e._uU(25,"Re-ingresar contrase\xf1a"),e.qZA(),e._UZ(26,"ion-input",20),e.TgZ(27,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.togglePasswordVisibility(1))}),e._UZ(28,"ion-icon",18),e.qZA()(),e.TgZ(29,"ion-button",21),e._UZ(30,"ion-icon",22),e.qZA(),e.TgZ(31,"ion-popover",23),e.YNc(32,T,2,0,"ng-template"),e.qZA(),e.TgZ(33,"p",24),e._uU(34," \xbfYa ten\xe9s una cuenta? \xa0"),e.TgZ(35,"a",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToLogin())}),e.TgZ(36,"u",26),e._uU(37,"Ingresar"),e.qZA()()(),e.TgZ(38,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleRegister())}),e.TgZ(39,"h3",28),e._uU(40,"Registrarme"),e.qZA()(),e.TgZ(41,"div",29),e._uU(42,"O"),e.qZA(),e.TgZ(43,"ion-button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleGoogleAuth())}),e._UZ(44,"ion-icon",31),e._uU(45,"\xa0\xa0"),e.TgZ(46,"h4",28),e._uU(47,"Entr\xe1 con Google"),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("formGroup",t.signUpForm),e.xp6(5),e.Q6J("ngIf",t.signUpForm.get("nombre").touched),e.xp6(5),e.Q6J("ngIf",t.signUpForm.get("email").touched),e.xp6(4),e.Q6J("type",t.hidePassword[0]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[0]?"eye-off-outline":"eye-outline"),e.xp6(4),e.Q6J("type",t.hidePassword[1]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[1]?"eye-off-outline":"eye-outline"),e.xp6(2),e.Q6J("name","information-circle-outline"),e.xp6(8),e.Q6J("disabled",!t.signUpForm.valid)}}function U(o,s){1&o&&e._UZ(0,"app-spinner",34),2&o&&e.Q6J("optionalMessage","Ingresando")}let C=(()=>{class o{constructor(t,i,n,c,A,w){this.auth=t,this._router=i,this.fb=n,this.toastController=c,this.animationService=A,this.gestureCtrl=w,this.attemptingSingUp=!1,this.hidePassword=[!0,!0],this.invalidCredentials=!1,this.emailAlreadyInUse=!1,this.invalidEmail=!1}ngOnInit(){this.signUpForm=this.fb.group({nombre:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6)]],confirmPassword:["",[r.kI.required,r.kI.minLength(6)]]},{validators:f.checkPasswords}),this.signUpForm.valueChanges.subscribe(()=>{this.emailAlreadyInUse=!1,this.invalidEmail=!1})}ngAfterViewInit(){this.initializeGesture()}initializeGesture(){this.gesture=this.gestureCtrl.create({el:this.registerRoot.nativeElement,gestureName:"swipe-left",onStart:()=>{},onMove:t=>{},onEnd:t=>{t.deltaX>50&&this.goToLogin()}}),this.gesture.enable()}ngOnDestroy(){console.log("Cleared")}togglePasswordVisibility(t){this.hidePassword[t]=!this.hidePassword[t]}handleRegister(){this.attemptingSingUp=!0,this.auth.SignUp(new p.n(this.signUpForm.get("email").value,this.signUpForm.get("nombre").value,"Apellido",18,"21313123",[]),this.signUpForm.get("password").value).then(t=>{"success"==t?setTimeout(()=>{this._router.navigate(["home"])},2200):(this.attemptingSingUp=!1,"auth/email-already-in-use"===t.code?(this.emailAlreadyInUse=!0,this.presentToast("bottom","El email ya est\xe1 en uso")):"auth/invalid-email"===t.code&&(this.invalidEmail=!0,this.presentToast("bottom","El email ingresado tiene un formato inv\xe1lido")))})}presentToast(t,i){var n=this;return(0,u.Z)(function*(){yield(yield n.toastController.create({message:i,duration:2500,position:t,icon:"alert-outline",buttons:[{text:"Minimizar",role:"cancel"}],color:"warning"})).present()})()}handleGoogleAuth(){this.auth.GoogleAuth()}goToLogin(){var t=this;return(0,u.Z)(function*(){t.animationService.createSlideOutAnimation(t.registerRoot.nativeElement,"right").play(),t._router.navigateByUrl("/login").then(()=>{const n=document.querySelector("app-logni ion-content");t.animationService.createSlideInAnimation(n,"left").play()})})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.e),e.Y36(m.F0),e.Y36(r.qu),e.Y36(l.yF),e.Y36(x.Y),e.Y36(l.TH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],viewQuery:function(t,i){if(1&t&&e.Gf(Z,5,e.SBq),2&t){let n;e.iGM(n=e.CRH())&&(i.registerRoot=n.first)}},hostBindings:function(t,i){1&t&&e.NdJ("unloaded",function(){return i.ngOnDestroy()})},standalone:!0,features:[e.jDz],decls:5,vars:3,consts:[[1,"main",3,"fullscreen"],["registerRoot",""],["class","container p-4","style","min-height: 100%",4,"ngIf","ngIfElse"],["spinner",""],[1,"container","p-4",2,"min-height","100%"],[1,"form-container","px-3","py-3"],[1,"row"],[1,"col-12","h1","heading","mt-4","ion-text-center"],[1,"row","mt-5"],[3,"formGroup"],["lines","full",1,"mb-3"],["position","floating",2,"color","var(--ion-color-light-shade)"],["type","text","placeholder","Juan Gonzalez","formControlName","nombre"],["slot","error",4,"ngIf"],["type","email","placeholder","nombre@dominio.com","formControlName","email","errorText","Email Invalido"],["lines","full","errorText","Contrase\xf1a incorrecta",1,"mb-3"],["placeholder","**********","formControlName","password",3,"type"],["size","default","slot","end","fill","clear",1,"pt-3","icon-button",3,"click"],["color","success",1,"iconEye",3,"name"],["lines","full","errorText","Contrase\xf1a incorrecta"],["placeholder","**********","formControlName","confirmPassword",3,"type"],["id","pswd-hint","shape","round","fill","clear",1,"mb-3"],["color","warning",1,"iconEye",3,"name"],["trigger","pswd-hint","triggerAction","click",1,"custom-popover"],[1,"signup-text"],[3,"click"],[1,"font-weight-bold",2,"color","#0f0"],["expand","block","strong","true","color","success",1,"login-button","mt-4","mb-3","text-dark",3,"disabled","click"],[2,"margin","0"],[1,"separator","mb-3","col-10","offset-1"],["expand","block","color","danger","strong","true",1,"google-button",3,"click"],["name","logo-google"],["slot","error"],[1,"ion-padding"],[3,"optionalMessage"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-content",0,1),e.YNc(2,y,48,9,"div",2),e.YNc(3,U,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const n=e.MAs(4);e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",!i.attemptingSingUp)("ngIfElse",n)}},dependencies:[l.Pc,l.YG,l.W2,l.gu,l.pK,l.Ie,l.Q$,l.uN,l.d8,l.j9,d.ez,d.O5,r.u5,r._Y,r.JJ,r.JL,m.Bz,r.UX,r.sg,r.u,h.h,_.O],styles:[".heading[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#42ff42}.para[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:#fff}.login-button[_ngcontent-%COMP%]{height:50px;--border-radius: 12px;--box-shadow: none;--ion-color-base: rgb(66, 255, 66) !important}.google-button[_ngcontent-%COMP%]{height:50px;--border-radius: 12px;--box-shadow: none}.signup-text[_ngcontent-%COMP%]{padding-right:20px;text-align:end}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]{display:block;order:1;width:100%;z-index:10}.copyright[_ngcontent-%COMP%]{text-align:center}.iconEye[_ngcontent-%COMP%]{font-size:26px}.icon-button[_ngcontent-%COMP%]{--ripple-color: transparent}ion-input[_ngcontent-%COMP%]{color:#fff}ion-content.main[_ngcontent-%COMP%]{--background: transparent !important}.form-container[_ngcontent-%COMP%]{border-radius:20px;border-style:solid;border-color:#cdcdcd;background:#222}"]}),o})()}}]);